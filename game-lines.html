<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <title>Game Lines EV</title>

  <link rel="stylesheet" href="style.css">

  <!-- ğŸŒ API BASE -->
  <script>
    const isLocalhost =
      location.hostname === "localhost" ||
      location.hostname === "127.0.0.1";

    window.API_BASE = isLocalhost
      ? "http://127.0.0.1:5000"
      : "https://bentherebetthat-api.onrender.com";

    console.log("ğŸŒ Game Lines API_BASE:", window.API_BASE);
  </script>

</head>


<body>


<!-- ===================================================== -->
<!-- ğŸ§  Ben's Model Breakdown Modal (ONLY ONE COPY))) -->
<!-- ===================================================== -->
<div id="modelBreakdownModal" class="analytics-modal hidden">

  <div class="analytics-modal-content">

    <div class="analytics-header">
      <h2>ğŸ§  Ben's Model Breakdown</h2>
      <button id="closeModelBreakdownBtn" class="analytics-close-btn">âœ–</button>
    </div>

    <div id="modelBreakdownContent" style="padding:20px;"></div>

  </div>

</div>



<!-- ===================================================== -->
<!-- PAGE CONTENT -->
<!-- ===================================================== -->

<h1>ğŸ“ˆ Game Lines EV</h1>


<div class="tracker-button-row">

  <button onclick="window.location.href='index.html'">
    ğŸ  Back to Home
  </button>

  <button onclick="window.location.href='pick-tracker.html'">
    ğŸ“Š Pick Tracker
  </button>
  
  <button id="exportGameLinesCsv">Export CSV</button>

</div>



<!-- Sportsbook Filters -->
<div id="sportsbookFilters"
     style="margin:15px 0; display:flex; gap:15px; flex-wrap:wrap;">
</div>



<!-- Controls -->
<div style="margin:15px 0; display:flex; gap:10px; align-items:center; flex-wrap:wrap;">

  <label>Select Date:</label>

  <input type="date" id="gameLinesDate">


  <button id="loadGameLinesBtn" class="tracker-btn primary">
    Load Games
  </button>


  <button id="refreshGameLinesBtn" class="tracker-btn">
    ğŸ”„ Refresh
  </button>


  <input
    type="text"
    id="gameSearchInput"
    placeholder="Search team (ex: Duke, Kansas, Lakers...)"
    style="padding:6px; width:250px;"
  >


  <button
    id="toggleModelDebug"
    class="debug-toggle"
    style="padding:6px 10px;"
  >
    ğŸ§  Ben's Model Detail
  </button>


  <div id="gameLinesTimestamp"
       style="font-size:13px; color:#666; font-style:italic;">
  </div>

</div>

<!-- ğŸ“± Mobile View Toggle -->
<div class="view-toggle">
  <button id="tableViewBtn" class="toggle-btn active">ğŸ“Š Table</button>
  <button id="cardViewBtn" class="toggle-btn">ğŸ“± Card</button>
</div>

<!-- Results -->
<div id="gameLinesResults">
  Loading game line edges...
</div>

<!-- ğŸ“± Mobile Card View -->
<div id="gameLinesCardView" class="card-view"></div>



<!-- Scripts -->
<script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
<script src="script.js"></script>
<script src="game-lines.js"></script>


</body>
</html>